<!DOCTYPE html>
<html>
  <head>
    <!-- Use custom build until this gets merged: https://github.com/aframevr/aframe/pull/5040 -->
    <script src="aframe-master.js"></script>
    <!-- <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script> -->
    <script src="../../dist/avatars.min.js"></script>
    <script src="main.js" type="module"></script>
    <script src="mirror.js"></script>
  </head>
  <body>
    <a-scene exr-background="../res/quarry_04_2k.exr">
      <a-assets>
        <a-asset-item id="dan" src="../res/dan.glb"></a-asset-item>
      </a-assets>
      <a-plane id="ground" rotation="-90 0 0" color="green" height="10" width="10"></a-plane>
      <a-light type="directional" intensity="0.5"></a-light>
      <a-light type="ambient" intensity="0.5"></a-light>
      <a-entity avatar="modelName: ../res/dan.glb" rotation="0 0 0"></a-entity>
      <a-entity position="0 1 -1"
                geometry="primitive: plane; width: 2; height: 2" 
                aframe-mirror="textureWidth: 1024; textureHeight: 1024"></a-entity>
      <a-entity id="player">
        <a-entity id="headOffset" position="0 0 0">
          <a-camera id="head" near="0.01" wasd-controls look-controls></a-camera>
        </a-entity>
        <a-entity id="leftHand" tracked-controls="hand: left; space: gripSpace" smooth-locomotion="active: true"></a-entity>
        <a-entity id="rightHand" tracked-controls="hand: right; space: gripSpace"></a-entity>
      </a-entity>
    </a-scene>
  </body>
</html>